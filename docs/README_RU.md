FLibGoLite - Достаточно для бесплатного OPDS 
===

## Руководство пользователя

__FLibGoLite__ — простой в использовании сервер OPDS для домашней библиотеки. 

>OPDS (англ. Open Publication Distribution System) — электронный формат каталога веб-синдикации, основанный на Atom и HTTP. OPDS-каталоги позволяют читать, сортировать и распространять электронные издания. OPDS-каталоги используют существующие или формирующиеся открытые стандарты и конвенции, направленные на упрощение взаимодействия. [(Wikipedia)](https://ru.wikipedia.org/wiki/OPDS)

__FLibGoLite__ — это многоплатформенный легкий OPDS-сервер с индексом поиска книг в базе данных SQLite.

Текущая версия __FLibGoLite__ поддерживает форматы публикаций [EPUB](https://en.wikipedia.org/wiki/EPUB) и [FB2 (отдельные файлы и zip-архивы)](./pkg/fb2/LICENSE).

Каталог OPDS __FLibGoLite__ протестирован и работает с мобильными приложениями для чтения книг PocketBook Reader, FBReader, Librera Reader, Cool Reader, а также с настольными приложениями Foliate и Thorium Reader. Вы можете использовать любые другие приложения или устройства e-ink, которые умеют читать перечисленные форматы книг и работать с каталогами OPDS.

Программа __FLibGoLite__ написана на GO как один исполняемый файл и не требует каких-либо пререквизитов.  
__Все, что вам нужно сделать, это загрузить, установить и запустить еe.__

##  Загрузка
[Загрузите последнюю версию](https://github.com/vinser/flibgolite/releases/tag/v2.0.0) конкретной сборки программы для вашей ОС и типа процессора.
|ОС        |Процессор             |Исполняемый файл            |Протестировано<sup>1</sup> |  
|----------|----------------------|----------------------------|:------------:|  
|Windows   | Intel, AMD 64-bit    | flibgolite-linux-amd64.exe |Да            |  
|OS X (MAC)| Intel, AMD 64-bit    | flibgolite-darwin-64       |Нет           |  
|OS X (MAC)| ARM 64-bit           | flibgolite-darwin-64       |Нет           |  
|Linux     | Intel, AMD 64-bit    | flibgolite-linux-amd64     |Нет           |  
|Linux     | ARM 32-bit (armhf)   | flibgolite-linux-arm-6     |Да            |  
|Linux     | ARM 64-bit (armv8)   | flibgolite-linux-arm64     |Да            |  

<sup>1</sup>_Некоторые исполняемые файлы были только перекрестно собраны и не тестировались на реальных настольных компьютерах, но вы все равно можете их опробовать._  

Вы можете переименовать исполняемый файл программы во `flibgolite` или в любое другое имя по вашему желанию.  
Для удобства ниже в этом README будет использоваться имя `flibgolite`.

## Установка и запуск
Не смотря на то, что программу __FLibGoLite__ можно запускать из командной строки, предпочтительной является установка программы в качестве системной службы, работающей в фоновом режиме, которая автоматически запускается после включения питания или перезагрузки.

Для установки и управления службой требуются права администратора.

В Windows откройте Powershell от имени администратора и выполните команды для установки, запуска и проверки состояния службы.

1. В терминале Windows Powershell выполните команду

Установить сервис
```sh
  ./flibgolite -service install
```
Запустить службу
```sh
  ./flibgolite -service start
```
И проверьте, что служба работает
```sh
  ./flibgolite -service status
```

2. В Linux откройте терминал и запустите команды, используя `sudo`:

```bash
  sudo ./flibgolite -service install
  sudo ./flibgolite -service start
  sudo ./flibgolite -service status
```

Если статус похож на `running`, вы можете начать его использовать.

## Использование
При первом запуске программа создаст набор подпапок в папке, где находится программа.

```
flibgolite
├─┬─ books  
| ├─── stock - здесь хранятся файлы и архивы книг библиотеки
| └─── trash - сюда будут попадать файлы с ошибками обработки
├─┬─ config - содержит основной файл конфигурации config.yml и файл дерева жанров
| └─── locales - подпапка для файлов локализации 
├─── dbdata - база данных с указателем книг находится здесь
└─── logs - здесь находятся журналы сканирования и запросов
```
Поместите файлы книг или zip-архивы файлов книг в папку `books/stock` и начните настройку читалки. При этом описания книг будут добавлены в индекс книг OPDS-каталога.

Установите для opds-каталога значение `http://<имя_ПК или IP_адрес_ПК>:8085/opds`, чтобы выбирать и загружать книги на свое устройство для чтения. См. руководство/справку к читалке.

`Совет:` При поиске книги в читалке используйте родную раскладку клавиатуры для выбранного языка, чтобы заполнять строку поиска. Например, не используйте латинскую английскую букву «i» вместо кириллической украинской буквы «i», поскольку это не один и тот же символ Юникода.

